
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ &mdash; Open Network Install Environment 2015.02 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2015.02',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-45248701-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Open Network Install Environment 2015.02 documentation" href="../index.html" />
    <link rel="next" title="Overview" href="../overview/index.html" />
    <link rel="prev" title="Open Network Install Environment Documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../overview/index.html" title="Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Open Network Install Environment Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Open Network Install Environment 2015.02 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-onie">
<h2>What is ONIE?<a class="headerlink" href="#what-is-onie" title="Permalink to this headline">¶</a></h2>
<p>ONIE is a small operating system, pre-installed as firmware on bare
metal network switches, that provides an environment for automated
provisioning.</p>
<p>To get started, read the <a class="reference internal" href="../overview/index.html#onie-overview"><em>Overview</em></a> section.</p>
</div>
<div class="section" id="how-often-is-onie-released">
<h2>How often is ONIE released?<a class="headerlink" href="#how-often-is-onie-released" title="Permalink to this headline">¶</a></h2>
<p>ONIE is released every 3 months.  For more details, read the
<a class="reference internal" href="../release/index.html#release-cycle"><em>Source Code Release Cycle</em></a> section.</p>
</div>
<div class="section" id="i-have-a-switch-from-vendor-xyz-that-does-not-have-onie-installed-can-i-install-onie-on-it-myself">
<h2>I have a switch from vendor XYZ that does not have ONIE installed.  Can I install ONIE on it myself?<a class="headerlink" href="#i-have-a-switch-from-vendor-xyz-that-does-not-have-onie-installed-can-i-install-onie-on-it-myself" title="Permalink to this headline">¶</a></h2>
<p>Short answer: no.</p>
<p>To &#8220;ONIE-ize&#8221; hardware is tricky to do correctly, highly vendor and
model specic, and fraught with peril.  There is more to an ONIE SKU
from a hardware vendor than just the installed ONIE software.</p>
<p>The first peril is that if the operation is not performed correctly
you are left with a dead, bricked box.  Nobody wants that.  You would
very likely need to RMA the box to your hardware supplier at this
point.</p>
<p>Let&#8217;s assume you are a seasoned firmware / hardware developer armed
with a JTAG debugger for BIOS/U-Boot recovery.  You would likely be
able to install the ONIE software after a few attemps.  However, that
sets you up for the next problem &#8211; the EEPROM format and contents.</p>
<p>The EEPROM format and contents between ONIE and non-ONIE SKUs
provided by hardware vendors is completely different.</p>
<p>The ONIE EEPROM format is standardized across all the hardware vendor
platforms.  This one of big accomplishments of the ONIE &#8211; getting all
the different hardware vendors to agree on a common EEPROM format.</p>
<p>The EEPROM requirements are described in the
<a class="reference internal" href="../design-spec/switch_hw_requirements.html#non-volatile-board-info"><em>Board EEPROM Information Format</em></a> section.</p>
<p>The EEPROM contents on non-ONIE product SKUs use the vendor&#8217;s
proprietary (and different per vendor) format.  To ONIE-ize a box you
would have to migrate/translate the vendor&#8217;s format/contents into the
ONIE format.  On top of that the number of MAC addresses allocated for
the device typically differs between the ONIE requirements and
non-ONIE SKUs &#8211; you would have to allocate MAC addresses from your
own <a class="reference external" href="https://en.wikipedia.org/wiki/Organizationally_unique_identifier">MAC OUI</a>
pool.</p>
<p>Another thing to be aware of if you go down this path is that the
non-ONIE and ONIE product SKUs may have front panel port labeling and
FRU labeling differences.  See the ONIE labeling requirements
<a class="reference internal" href="../design-spec/switch_hw_requirements.html#fru-labeling"><em>Hardware Face Plate and FRU Numbering</em></a> section, which may differ from a vendor&#8217;s non-ONIE
SKU.</p>
</div>
<div class="section" id="why-is-the-default-console-baud-rate-115200">
<h2>Why is the default console baud rate 115200?<a class="headerlink" href="#why-is-the-default-console-baud-rate-115200" title="Permalink to this headline">¶</a></h2>
<p>It is the 21st century &#8211; time to use a reasonably fast baud rate.</p>
</div>
<div class="section" id="why-is-the-ethernet-management-port-ipv4-address-set-to-192-168-3-10">
<h2>Why is the Ethernet management port IPv4 address set to 192.168.3.10?<a class="headerlink" href="#why-is-the-ethernet-management-port-ipv4-address-set-to-192-168-3-10" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">192.168.3.10</span></tt> is the default fall back IPv4 address, which is used
when no other address configuration mechanism works.  This is usually
<em>not</em> what you want and typically indicates your DHCP configuration is
not quite right.</p>
<p>See <a class="reference internal" href="../design-spec/discovery.html#onie-eth-mgmt-config"><em>Ethernet Management Console Port Configuration</em></a> for details.</p>
</div>
<div class="section" id="is-there-a-virtual-machine-implementation">
<h2>Is there a virtual machine implementation?<a class="headerlink" href="#is-there-a-virtual-machine-implementation" title="Permalink to this headline">¶</a></h2>
<p>Yes.  See the <a class="reference internal" href="../design-spec/x86_virtual_machine.html#x86-virtual-machine"><em>x86 Virtual Machine</em></a> section for details.</p>
</div>
<div class="section" id="is-there-an-onie-state-transition-diagram">
<h2>Is there an ONIE state transition diagram?<a class="headerlink" href="#is-there-an-onie-state-transition-diagram" title="Permalink to this headline">¶</a></h2>
<p>The ONIE states and transitions can be a little confusing.  For a high
level overview of the states and transitions, read the <a class="reference internal" href="../design-spec/overview.html#onie-fsm"><em>ONIE Finite State Machine</em></a> section.</p>
<p>For more details, read the <a class="reference internal" href="../design-spec/index.html#full-design-spec"><em>Design Specification</em></a> chapter.</p>
</div>
<div class="section" id="can-i-set-up-a-local-cache-of-downloaded-packages-onie-needs">
<span id="cache-packages"></span><h2>Can I set up a local cache of downloaded packages ONIE needs?<a class="headerlink" href="#can-i-set-up-a-local-cache-of-downloaded-packages-onie-needs" title="Permalink to this headline">¶</a></h2>
<p>The problem is ONIE downloads various packages as it builds.  Can we
avoid downloading things all time?  Yes we can.</p>
<p>To avoid downloading the packages from across the ocean you can set up
a local cache of the packages.  You would need an HTTP server on your
local development network.</p>
<p>To set up the local cache, read the documentation in the
<tt class="docutils literal"><span class="pre">onie/build-config/local.make.example</span></tt> file.  Rename this file to
<tt class="docutils literal"><span class="pre">local.make</span></tt> and the build system will use it.</p>
<p>In that file, set the <tt class="docutils literal"><span class="pre">ONIE_MIRROR</span></tt> variable to point at your local
HTTP server.</p>
<p>To set up the cache, do this:</p>
<div class="highlight-python"><pre>build-04:~/onie/build-config$ make download-clean
build-04:~/onie/build-config$ make download</pre>
</div>
<p>Now copy all the *.gz *.bz2 *.xz files to your HTTP server.</p>
<p>Next set the <tt class="docutils literal"><span class="pre">ONIE_MIRROR</span></tt> variable in <tt class="docutils literal"><span class="pre">onie/build-config/local.make</span></tt>
to match your HTTP server.</p>
<p>The <tt class="docutils literal"><span class="pre">crosstools-ng</span></tt> component also downloads a lot of packages.  It has
its own config variable, <tt class="docutils literal"><span class="pre">CROSSTOOL_ONIE_MIRROR</span></tt>.  After building
kvm_x86_64 ONIE once you can find the downloaded packages here:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">onie</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">tools</span><span class="o">/</span><span class="n">x86_64</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">tarballs</span>
</pre></div>
</div>
<p>Copy all those files to your HTTP server and set the
<tt class="docutils literal"><span class="pre">CROSSTOOL_ONIE_MIRROR</span></tt> variable accordingly.</p>
<p>Now you should be all set.</p>
<p>The build system will still download packages, but it will be from a
local HTTP server and will be much faster.</p>
</div>
<div class="section" id="can-i-copy-an-onie-source-tree-work-space-to-another-location">
<h2>Can I copy an ONIE source tree work space to another location?<a class="headerlink" href="#can-i-copy-an-onie-source-tree-work-space-to-another-location" title="Permalink to this headline">¶</a></h2>
<p>No.  The build environment does not allow copying or moving trees
around.  When building, &#8220;stamp&#8221; files are created that use the
<em>absolute</em> path names of files. Moving an ONIE tree to another
location confuses the build system, with unexpected results.</p>
<p>If you do move an ONIE tree (which isn&#8217;t recommended) you must first
clean out the tree by building the <tt class="docutils literal"><span class="pre">distclean</span></tt> target, like this:</p>
<div class="highlight-python"><pre>build-04:~/onie/build-config$ make distclean</pre>
</div>
<p>That will wipe out everything and you can proceed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">clean</span></tt> target will <em>not</em> clean up everything.  It will leave
behind the toolchain and the downloaded packages.  The <tt class="docutils literal"><span class="pre">distclean</span></tt>
target wipes out everything.</p>
</div>
</div>
<div class="section" id="are-there-any-interesting-makefile-targets-lurking-around">
<h2>Are there any interesting Makefile targets lurking around?<a class="headerlink" href="#are-there-any-interesting-makefile-targets-lurking-around" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>download &#8211; Downloads all the source packages, storing them in
<tt class="docutils literal"><span class="pre">build/download</span></tt>.</li>
<li>demo &#8211; Builds the demo OS and demo OS installer.</li>
<li>docs &#8211; Generates the HTML and PDF documentation.</li>
<li>clean &#8211; Wipes out all build products for a particular
machine. Downloads and the toolchain are <em>preserved</em>.</li>
<li>download-clean &#8211; Wipes out all the downloaded packages.</li>
<li>distclean &#8211; Wipes out everything, including downloads and the toolchain.</li>
<li>debian-prepare-build-host &#8211; Installs various packages needed to
compile ONIE on a Debian-based system, using <tt class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span></tt>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ONIE-logo-green-160x60.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FAQ</a><ul>
<li><a class="reference internal" href="#what-is-onie">What is ONIE?</a></li>
<li><a class="reference internal" href="#how-often-is-onie-released">How often is ONIE released?</a></li>
<li><a class="reference internal" href="#i-have-a-switch-from-vendor-xyz-that-does-not-have-onie-installed-can-i-install-onie-on-it-myself">I have a switch from vendor XYZ that does not have ONIE installed.  Can I install ONIE on it myself?</a></li>
<li><a class="reference internal" href="#why-is-the-default-console-baud-rate-115200">Why is the default console baud rate 115200?</a></li>
<li><a class="reference internal" href="#why-is-the-ethernet-management-port-ipv4-address-set-to-192-168-3-10">Why is the Ethernet management port IPv4 address set to 192.168.3.10?</a></li>
<li><a class="reference internal" href="#is-there-a-virtual-machine-implementation">Is there a virtual machine implementation?</a></li>
<li><a class="reference internal" href="#is-there-an-onie-state-transition-diagram">Is there an ONIE state transition diagram?</a></li>
<li><a class="reference internal" href="#can-i-set-up-a-local-cache-of-downloaded-packages-onie-needs">Can I set up a local cache of downloaded packages ONIE needs?</a></li>
<li><a class="reference internal" href="#can-i-copy-an-onie-source-tree-work-space-to-another-location">Can I copy an ONIE source tree work space to another location?</a></li>
<li><a class="reference internal" href="#are-there-any-interesting-makefile-targets-lurking-around">Are there any interesting Makefile targets lurking around?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Open Network Install Environment Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../overview/index.html"
                        title="next chapter">Overview</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/faq/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../overview/index.html" title="Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Open Network Install Environment Documentation"
             >previous</a> |</li>
        <li><a href="../index.html">Open Network Install Environment 2015.02 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright .
    </div>
  </body>
</html>